// Define image URLs for different categories
export const STYLE_IMAGES = {
  'realistic': [
    'https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1507146426996-ef05306b995a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  'anime': [
    'https://images.unsplash.com/photo-1578632767115-351597cf2477?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1586410073908-ada3a1f91bc2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1541562232579-512a21360020?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  '3d': [
    'https://images.unsplash.com/photo-1569282229551-a217ef5896fc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1616161560417-66d4db5892ec?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1635776062127-d379bfcba9f9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  'abstract': [
    'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1557672172-298e090bd0f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1567095761054-7a02e69e5c43?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  'painting': [
    'https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1544967082-d9d25d867d66?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1580136579312-94651dfd596d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  'pixel': [
    'https://images.unsplash.com/photo-1633350356762-04815f41a757?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1636457742446-9b15a7522cd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1628569407502-80ed608fb517?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  'sci-fi': [
    'https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1506318137071-a8e063b4bec0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1528722828814-77b9b83aafb2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ],
  'fantasy': [
    'https://images.unsplash.com/photo-1518709268805-4e9042af9f23?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1481018085669-2bc6e4f00eed?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
  ]
};

export const MOCK_IMAGES = {
  'default': 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'animal': 'https://images.unsplash.com/photo-1484406566174-9da000fda645?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'nature': 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'food': 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'tech': 'https://images.unsplash.com/photo-1531297484001-80022131f5a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'city': 'https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'portrait': 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'space': 'https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'abstract': 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'sunset': 'https://images.unsplash.com/photo-1506815444479-bfdb1e96c566?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'mountain': 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'landscape': 'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
};

// Creative word combinations that will affect image selection
export const CREATIVE_COMBOS = {
  'disco dancing': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'fish disco': 'https://images.unsplash.com/photo-1524704654690-b56c05c78a00?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'space cat': 'https://images.unsplash.com/photo-1543852786-1cf6624b9987?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'robot dog': 'https://images.unsplash.com/photo-1589254065909-b7086229d08c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'flying car': 'https://images.unsplash.com/photo-1511618938258-76d46a7b2261?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'underwater city': 'https://images.unsplash.com/photo-1518639192441-8fce0a366e2e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'dragon fire': 'https://images.unsplash.com/photo-1577493340887-b7bfff550145?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'alien landscape': 'https://images.unsplash.com/photo-1536697246787-1f7ae568d89a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'glowing forest': 'https://images.unsplash.com/photo-1565118531796-763e5082d113?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'cyberpunk street': 'https://images.unsplash.com/photo-1584801096196-56e3344004fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'sunset mountains': 'https://images.unsplash.com/photo-1465919292275-c60ba49da6ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'sunset over mountains': 'https://images.unsplash.com/photo-1465919292275-c60ba49da6ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
};

// Famous people & mock demo images
export const FAMOUS_PEOPLE_IMAGES: Record<string, string> = {
  "elon musk": "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
  "narendra modi": "https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
  "barack obama": "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
  "donald trump": "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
  "albert einstein": "https://images.unsplash.com/photo-1552058544-f2b08422138a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
  "bill gates": "https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
  // add more as needed
};

/**
 * Get a random image from the specified style array
 */
export function getRandomImage(styleArray: string[]): string {
  const randomIndex = Math.floor(Math.random() * styleArray.length);
  return styleArray[randomIndex];
}

/**
 * Get a mock image URL based on prompt and style
 */
export function getMockImageUrl(prompt: string, style?: string): string {
  console.log('Getting mock image for prompt: ' + prompt + ' with style: ' + style);

  // First check if the prompt contains any of our creative combinations
  const creativeMatch = findCreativeCombo(prompt);
  if (creativeMatch) {
    console.log('Found creative combination match: ' + creativeMatch);
    return CREATIVE_COMBOS[creativeMatch];
  }

  // Special case for sunsets over mountains (prioritize this before general keyword search)
  const lowerPrompt = prompt.toLowerCase();
  if (
    (lowerPrompt.includes('sunset') && lowerPrompt.includes('mountain')) ||
    lowerPrompt.includes('sunset over mountain') ||
    lowerPrompt.includes('sunset over mountains') ||
    lowerPrompt.includes('sunset mountains')
  ) {
    return CREATIVE_COMBOS['sunset over mountains'] ||
      CREATIVE_COMBOS['sunset mountains'] ||
      MOCK_IMAGES.sunset;
  }

  // Detect famous people in the prompt (prioritize over generic people)
  for (const person in FAMOUS_PEOPLE_IMAGES) {
    if (lowerPrompt.includes(person)) {
      return FAMOUS_PEOPLE_IMAGES[person];
    }
  }

  // Check for prompts about people (generic), higher priority than landscape etc
  if (
    lowerPrompt.includes('person') ||
    lowerPrompt.includes('people') ||
    lowerPrompt.includes('human') ||
    lowerPrompt.includes('face') ||
    lowerPrompt.includes('portrait') ||
    lowerPrompt.includes('woman') ||
    lowerPrompt.includes('man') ||
    lowerPrompt.includes('child') ||
    lowerPrompt.includes('girl') ||
    lowerPrompt.includes('boy')
  ) {
    return MOCK_IMAGES.portrait;
  }

  // Style-specific images
  if (style && STYLE_IMAGES[style]) {
    return getRandomImage(STYLE_IMAGES[style]);
  }

  // Otherwise general keyword checks (making sure the order doesn't catch mountain/nature before the above)
  if (lowerPrompt.includes('sunset')) {
    return MOCK_IMAGES.sunset;
  }
  if (lowerPrompt.includes('mountain')) {
    return MOCK_IMAGES.mountain;
  }
  if (lowerPrompt.includes('landscape')) {
    return MOCK_IMAGES.landscape;
  }
  if (lowerPrompt.includes('animal') || lowerPrompt.includes('cat') || lowerPrompt.includes('dog') || lowerPrompt.includes('bird')) {
    return MOCK_IMAGES.animal;
  }
  if (lowerPrompt.includes('nature') || lowerPrompt.includes('tree') || lowerPrompt.includes('forest')) {
    return MOCK_IMAGES.nature;
  }
  if (lowerPrompt.includes('food') || lowerPrompt.includes('meal') || lowerPrompt.includes('dish') || lowerPrompt.includes('fruit')) {
    return MOCK_IMAGES.food;
  }
  if (lowerPrompt.includes('tech') || lowerPrompt.includes('computer') || lowerPrompt.includes('robot') || lowerPrompt.includes('future')) {
    return MOCK_IMAGES.tech;
  }
  if (lowerPrompt.includes('city') || lowerPrompt.includes('urban') || lowerPrompt.includes('building') || lowerPrompt.includes('street')) {
    return MOCK_IMAGES.city;
  }
  if (lowerPrompt.includes('space') || lowerPrompt.includes('star') || lowerPrompt.includes('galaxy') || lowerPrompt.includes('universe')) {
    return MOCK_IMAGES.space;
  }

  // Default to abstract if no matches
  return MOCK_IMAGES.default;
}

/**
 * Check if the prompt contains any of our creative combinations
 */
function findCreativeCombo(prompt: string): string | null {
  const lowerPrompt = prompt.toLowerCase();
  for (const combo of Object.keys(CREATIVE_COMBOS)) {
    if (lowerPrompt.includes(combo)) {
      return combo;
    }
  }
  return null;
}
