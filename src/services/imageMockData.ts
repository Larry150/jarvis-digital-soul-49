export const MOCK_IMAGES: Record<string, string> = {
  // Animals
  'dog': 'https://images.unsplash.com/photo-1543466835-00a7907e9de1',
  'cat': 'https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba',
  'bird': 'https://images.unsplash.com/photo-1522926193341-e9ffd686c60f',
  'wolf': 'https://images.unsplash.com/photo-1564466809058-bf4114d55352',
  'lion': 'https://images.unsplash.com/photo-1546182990-dffeafbe841d',
  'tiger': 'https://images.unsplash.com/photo-1549366021-9f761d450615',
  'bear': 'https://images.unsplash.com/photo-1530595467537-0b5996c41f2d',
  'fish': 'https://images.unsplash.com/photo-1524704654690-b56c05c78a00',
  
  // People & Activities
  'person': 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80',
  'astronaut': 'https://images.unsplash.com/photo-1454789548928-9efd52dc4031',
  'scientist': 'https://images.unsplash.com/photo-1507413245164-6160d8298b31',
  'athlete': 'https://images.unsplash.com/photo-1517649763962-0c623066013b',
  'woman': 'https://images.unsplash.com/photo-1557555187-23d685287bc3',
  'man': 'https://images.unsplash.com/photo-1564564321837-a57b7070ac4f',
  'child': 'https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9',
  'dancer': 'https://images.unsplash.com/photo-1508807526345-15e9b5f4eaff',
  'disco': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6a3',
  'dancing': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6a3',
  
  // Vehicles
  'car': 'https://images.unsplash.com/photo-1542362567-b07e54358753',
  'truck': 'https://images.unsplash.com/photo-1616711906333-23e9279b509c',
  'motorcycle': 'https://images.unsplash.com/photo-1558981806-ec527fa84c39',
  'bicycle': 'https://images.unsplash.com/photo-1485965120184-e220f721d03e',
  'spacecraft': 'https://images.unsplash.com/photo-1541185933-ef5d8ed016c2',
  'ship': 'https://images.unsplash.com/photo-1508953633818-212e7d14a1a4',
  'skateboard': 'https://images.unsplash.com/photo-1572776685600-aca8c3456159',
  
  // Nature
  'mountain': 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b',
  'forest': 'https://images.unsplash.com/photo-1448375240586-882707db888b',
  'beach': 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e',
  'ocean': 'https://images.unsplash.com/photo-1518837695005-2083093ee35b',
  'desert': 'https://images.unsplash.com/photo-1509316785289-025f5b846b35',
  'sunset': 'https://images.unsplash.com/photo-1616036740257-9449ea1f6605',
  'waterfall': 'https://images.unsplash.com/photo-1558289675-a39e416d3827',
  'lake': 'https://images.unsplash.com/photo-1500829243541-74b677fecc30',
  
  // Urban
  'city': 'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df',
  'building': 'https://images.unsplash.com/photo-1486325212027-8081e485255e',
  'street': 'https://images.unsplash.com/photo-1557531365-e8b22d93dbd0',
  'bridge': 'https://images.unsplash.com/photo-1526458170104-7e546a843a8a',
  'nightclub': 'https://images.unsplash.com/photo-1566417713940-fe7c737a9ef2',
  
  // Technology
  'robot': 'https://images.unsplash.com/photo-1485827404703-89b55fcc595e',
  'computer': 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97',
  'smartphone': 'https://images.unsplash.com/photo-1592750475507-f85ef3c41a47',
  'dj': 'https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad',
  
  // Space
  'space': 'https://images.unsplash.com/photo-1614732414444-096e5f1122d5',
  'galaxy': 'https://images.unsplash.com/photo-1506703719100-a0b3a51e1278',
  'planet': 'https://images.unsplash.com/photo-1614314169000-4ba70ab510aa',
  'stars': 'https://images.unsplash.com/photo-1419242902214-272b3f66ee7a',
  'intergalactic': 'https://images.unsplash.com/photo-1506703719100-a0b3a51e1278',
  
  // Food
  'food': 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c',
  'fruit': 'https://images.unsplash.com/photo-1519996529931-28324d5a630e',
  'pizza': 'https://images.unsplash.com/photo-1513104890138-7c749659a591',
  'coffee': 'https://images.unsplash.com/photo-1509042239860-f550ce710b93',
  
  // Creative/Fantasy Elements
  'fantasy': 'https://images.unsplash.com/photo-1518709268805-4e9042af9f23',
  'cyberpunk': 'https://images.unsplash.com/photo-1504384308090-c894fdcc538d',
  'steampunk': 'https://images.unsplash.com/photo-1599501887769-8ec19ec1aa4b',
  'magical': 'https://images.unsplash.com/photo-1518709268805-4e9042af9f23',
  'futuristic': 'https://images.unsplash.com/photo-1488590528505-98d2b5aba04b',
  'neon': 'https://images.unsplash.com/photo-1549605659-32d82da3a059',
  'cosmic': 'https://images.unsplash.com/photo-1419242902214-272b3f66ee7a',
  'underwater': 'https://images.unsplash.com/photo-1523496568862-1adcede3de19',
  
  // Generic categories
  'nature': 'https://images.unsplash.com/photo-1469474968028-56623f02e42e',
  'animal': 'https://images.unsplash.com/photo-1474511320723-9a56873867b5',
  'portrait': 'https://images.unsplash.com/photo-1560250097-0b93528c311a',
  'landscape': 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',
  'abstract': 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe',
  'default': 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe'
};

export const CREATIVE_COMBOS: Record<string, string> = {
  'fish disco': 'https://images.unsplash.com/photo-1524704654690-b56c05c78a00',
  'cat sunglasses': 'https://images.unsplash.com/photo-1606214174585-fe31582dc6ee',
  'cat skateboard': 'https://images.unsplash.com/photo-1606214174585-fe31582dc6ee',
  'robot dj': 'https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad',
  'woman dancing': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6a3',
  'disco dancing': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6a3',
  'intergalactic party': 'https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad',
  'night city': 'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df',
};

export const STYLE_IMAGES: Record<string, string[]> = {
  'realistic': [
    'https://images.unsplash.com/photo-1543466835-00a7907e9de1',
    'https://images.unsplash.com/photo-1490730141103-6cac27aaab94',
    'https://images.unsplash.com/photo-1540206395-68808572332f'
  ],
  'anime': [
    'https://images.unsplash.com/photo-1564466809058-bf4114d55352',
    'https://images.unsplash.com/photo-1607604276583-eef5d076aa5f',
    'https://images.unsplash.com/photo-1559981421-3e0c0d7e6f21'
  ],
  '3d': [
    'https://images.unsplash.com/photo-1622737133809-d95047b9e673',
    'https://images.unsplash.com/photo-1618172193763-c511deb635ca',
    'https://images.unsplash.com/photo-1617396900799-f4ec2b43c7ae'
  ],
  'abstract': [
    'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe',
    'https://images.unsplash.com/photo-1557672172-298e090bd0f1',
    'https://images.unsplash.com/photo-1567095761054-7a02e69e5c43'
  ],
  'painting': [
    'https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5',
    'https://images.unsplash.com/photo-1531913764164-f85c52d7e3a8',
    'https://images.unsplash.com/photo-1578301978693-85fa9c0320b9'
  ],
  'pixel': [
    'https://images.unsplash.com/photo-1506744038136-46273834b3fb',
    'https://images.unsplash.com/photo-1597524689192-0ce880c4a8d4', 
    'https://images.unsplash.com/photo-1621544066407-29bea859fb03'
  ],
  'sci-fi': [
    'https://images.unsplash.com/photo-1462331940025-496dfbfc7564',
    'https://images.unsplash.com/photo-1532453288672-3a27e9be9efd',
    'https://images.unsplash.com/photo-1506784365847-bbad939e9335'
  ],
  'fantasy': [
    'https://images.unsplash.com/photo-1518709268805-4e9042af9f23',
    'https://images.unsplash.com/photo-1536300007881-7e482242baa5',
    'https://images.unsplash.com/photo-1574610758891-5b809b6e6e2e'
  ]
};

// Helper function to get a random image from an array
export const getRandomImage = (images: string[]): string => {
  const randomIndex = Math.floor(Math.random() * images.length);
  return images[randomIndex];
};

export const getMockImageUrl = (prompt: string, style?: string): string => {
  const lowerPrompt = prompt.toLowerCase();
  
  // First check for creative combinations
  for (const [combination, imageUrl] of Object.entries(CREATIVE_COMBOS)) {
    if (lowerPrompt.includes(combination)) {
      console.log(`Found creative combination match: ${combination}`);
      return imageUrl;
    }
  }
  
  // Then check for specific style
  if (style && STYLE_IMAGES[style]) {
    console.log(`Using specific style: ${style}`);
    return getRandomImage(STYLE_IMAGES[style]);
  }
  
  // Style-specific checks from prompt
  if (lowerPrompt.includes('pixel') || lowerPrompt.includes('pixel art')) 
    return getRandomImage(STYLE_IMAGES['pixel']);
  if (lowerPrompt.includes('sci-fi') || lowerPrompt.includes('science fiction')) 
    return getRandomImage(STYLE_IMAGES['sci-fi']);
  if (lowerPrompt.includes('fantasy') || lowerPrompt.includes('magical')) 
    return getRandomImage(STYLE_IMAGES['fantasy']);
  if (lowerPrompt.includes('anime') || lowerPrompt.includes('cartoon')) 
    return getRandomImage(STYLE_IMAGES['anime']);
  if (lowerPrompt.includes('painting') || lowerPrompt.includes('oil painting')) 
    return getRandomImage(STYLE_IMAGES['painting']);
  if (lowerPrompt.includes('3d') || lowerPrompt.includes('render')) 
    return getRandomImage(STYLE_IMAGES['3d']);
    
  // Attempt to find content-specific images
  // First split the prompt into words and check each significant word
  const words = lowerPrompt.split(/\s+/);
  
  // Check for direct object matches first (prioritize specific objects)
  for (const word of words) {
    // Skip common words, articles, prepositions
    if (['a', 'an', 'the', 'of', 'in', 'on', 'with', 'and', 'or', 'generate', 'create', 'make', 'image', 'picture'].includes(word)) {
      continue;
    }
    
    if (MOCK_IMAGES[word]) {
      console.log(`Found direct word match: ${word}`);
      return MOCK_IMAGES[word];
    }
  }
  
  // Check for two-word combinations
  for (let i = 0; i < words.length - 1; i++) {
    const twoWordCombo = `${words[i]} ${words[i+1]}`;
    if (CREATIVE_COMBOS[twoWordCombo]) {
      console.log(`Found two-word combo: ${twoWordCombo}`);
      return CREATIVE_COMBOS[twoWordCombo];
    }
  }
  
  // Then check for partial matches in the complete prompt
  for (const [keyword, imageUrl] of Object.entries(MOCK_IMAGES)) {
    if (lowerPrompt.includes(keyword)) {
      console.log(`Found keyword in prompt: ${keyword}`);
      return imageUrl;
    }
  }
  
  // If we reach here, no specific match was found - choose a random abstract image
  console.log('No specific match found for prompt: ', prompt);
  return getRandomImage(STYLE_IMAGES['abstract']);
};
